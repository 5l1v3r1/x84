

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>shit .. &mdash; x/84 1.0rc3 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0rc3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="x/84 1.0rc3 documentation" href="index.html" />
    <link rel="prev" title="Welcome to x/84’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to x/84’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">x/84 1.0rc3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-bbs">
<span id="shit"></span><h1>shit ..<a class="headerlink" href="#module-bbs" title="Permalink to this headline">¶</a></h1>
<p>bbs module for X/84 BBS <a class="reference external" href="https://github.com/jquast/x84">https://github.com/jquast/x84</a>
everything in the bbs package is exported as a global to all bbs session
scripts. It is as if the statement:</p>
<blockquote>
<div>from bbs import *</div></blockquote>
<p>Is implied for all session scripts.</p>
<dl class="class">
<dt id="bbs.Ansi">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">Ansi</tt><a class="headerlink" href="#bbs.Ansi" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode class that is poorly aware of the effect ansi sequences have on
length.</p>
<dl class="method">
<dt id="bbs.Ansi.anspadd">
<tt class="descname">anspadd</tt><big>(</big><big>)</big> &rarr; integer<a class="headerlink" href="#bbs.Ansi.anspadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns int(&#8216;nn&#8217;) in CSI sequence 033[nnC for use with replacing
ansi.right(nn) with printable characters. prevents bleeding in
scrollable windows. Otherwise 0</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Ansi.decode_pipe">
<tt class="descname">decode_pipe</tt><big>(</big><big>)</big> &rarr; unicode<a class="headerlink" href="#bbs.Ansi.decode_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return new terminal sequence, replacing &#8216;pipe codes&#8217;, such as u&#8217;<a href="#id1"><span class="problematic" id="id2">|</span></a>03&#8217;
with this terminals equivalent attribute sequence.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Ansi.is_movement">
<tt class="descname">is_movement</tt><big>(</big><big>)</big> &rarr; bool<a class="headerlink" href="#bbs.Ansi.is_movement" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if string S begins with a known terminal sequence that is
unhealthy for padding, that is, its effects on the terminal window
position are indeterminate.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Ansi.seqfill">
<tt class="descname">seqfill</tt><big>(</big><big>)</big> &rarr; unicode<a class="headerlink" href="#bbs.Ansi.seqfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad string S with the terminal &#8220;cursor right&#8221; sequence,
<tt class="docutils literal"><span class="pre">&lt;ESC&gt;[&lt;N&gt;C</span></tt>, used to compress ansi art,replaced with
padded u&#8217; &#8216;s.  At the cost of extra bytes, this prevents &#8216;bleeding&#8217;
when scrolling artwork.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Ansi.seqlen">
<tt class="descname">seqlen</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Ansi.seqlen" title="Permalink to this definition">¶</a></dt>
<dd><p>S.is_sequence() -&gt; integer</p>
<p>Returns non-zero for string S that begins with an ansi sequence, with value
of bytes until sequence is complete. Use as a &#8216;next&#8217; pointer to skip past
sequences.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bbs.LineEditor">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">LineEditor</tt><big>(</big><em>width=None</em>, <em>content=u''</em><big>)</big><a class="headerlink" href="#bbs.LineEditor" title="Permalink to this definition">¶</a></dt>
<dd><p>This unicode line editor is unaware of its (x, y) position and is great
for prompting a quick phrase on any terminal, such as a login: prompt.</p>
<dl class="attribute">
<dt id="bbs.LineEditor.hidden">
<tt class="descname">hidden</tt><a class="headerlink" href="#bbs.LineEditor.hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>When not False, represents a single &#8216;mask&#8217; character to hide input
with, such as a password prompt</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.LineEditor.highlight">
<tt class="descname">highlight</tt><a class="headerlink" href="#bbs.LineEditor.highlight" title="Permalink to this definition">¶</a></dt>
<dd><p>highlight: when of non-zero length, a terminal sequence such as
term.cyan_reverse before printing &#8216; &#8216;<a href="#id3"><span class="problematic" id="id4">*</span></a>width + &#8216;&#8217;+width, used before
reading input in read() and refresh(). this gives the effect of
economic and terminal-agnostic &#8216;input field&#8217;. By default term.reverse
is used. Set to u&#8217;&#8217; to disable.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.LineEditor.read">
<tt class="descname">read</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.LineEditor.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads input until the ENTER or ESCAPE key is pressed (Blocking).
Allows backspacing. Returns unicode text, or None when cancelled.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.LineEditor.refresh">
<tt class="descname">refresh</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.LineEditor.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns unicode byts suitable for drawing line.
No movement or positional sequences are returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.LineEditor.width">
<tt class="descname">width</tt><a class="headerlink" href="#bbs.LineEditor.width" title="Permalink to this definition">¶</a></dt>
<dd><p>When non-zero, represents the upperbound limit of characters to receive
on input until no more characters are accepted.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bbs.ScrollingEditor">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">ScrollingEditor</tt><big>(</big><em>width</em>, <em>yloc</em>, <em>xloc</em><big>)</big><a class="headerlink" href="#bbs.ScrollingEditor" title="Permalink to this definition">¶</a></dt>
<dd><p>A single line editor that scrolls horizontally</p>
<dl class="method">
<dt id="bbs.ScrollingEditor.add">
<tt class="descname">add</tt><big>(</big><em>u_chr</em><big>)</big><a class="headerlink" href="#bbs.ScrollingEditor.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns output sequence necessary to add a character to content buffer.
An empty content buffer is returned if no data could be inserted.
sequences for re-displaying the full input line are returned when the
character addition caused the window to scroll horizontally.
Otherwise, the input is simply returned to be displayed (&#8216;local echo&#8217;).</p>
</dd></dl>

<dl class="method">
<dt id="bbs.ScrollingEditor.backspace">
<tt class="descname">backspace</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.ScrollingEditor.backspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove character from end of content buffer, scroll as necessary.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.bell">
<tt class="descname">bell</tt><a class="headerlink" href="#bbs.ScrollingEditor.bell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when user nears margin and bell has been sounded and
carriage has not yet been returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.carriage_returned">
<tt class="descname">carriage_returned</tt><a class="headerlink" href="#bbs.ScrollingEditor.carriage_returned" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when last keystroke caused carriage to be returned.
(KEY_ENTER was pressed)</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.enable_scrolling">
<tt class="descname">enable_scrolling</tt><a class="headerlink" href="#bbs.ScrollingEditor.enable_scrolling" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable horizontal scrolling of line editor.
Otherwise, input is limited to visible width.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.eol">
<tt class="descname">eol</tt><a class="headerlink" href="#bbs.ScrollingEditor.eol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True when end of line is reached and no more input can be
accepted.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.ScrollingEditor.fixate">
<tt class="descname">fixate</tt><big>(</big><em>x_adjust=0</em><big>)</big><a class="headerlink" href="#bbs.ScrollingEditor.fixate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return terminal sequence suitable for placing cursor at current
position in window. Set x_adjust to -1 to position cursor &#8216;on&#8217; the last
character, or 0 for &#8216;after&#8217; (default).</p>
</dd></dl>

<dl class="method">
<dt id="bbs.ScrollingEditor.init_keystrokes">
<tt class="descname">init_keystrokes</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.ScrollingEditor.init_keystrokes" title="Permalink to this definition">¶</a></dt>
<dd><p>This initializer sets glyphs and colors appropriate for a &#8220;theme&#8221;,
override or inherit this method to create a common color and graphic
set.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.is_scrolled">
<tt class="descname">is_scrolled</tt><a class="headerlink" href="#bbs.ScrollingEditor.is_scrolled" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the horizontal editor is in a scrolled state.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.margin_amt">
<tt class="descname">margin_amt</tt><a class="headerlink" href="#bbs.ScrollingEditor.margin_amt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of columns from right-edge that the horizontal editor
signals bell=True, indicating that the end is near and the carriage
should be returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.margin_pct">
<tt class="descname">margin_pct</tt><a class="headerlink" href="#bbs.ScrollingEditor.margin_pct" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of columns away from input length limit, as a percentage of its
total visible width, that will alarm the bell. This simulates the bell
of a typewriter as a signaling mechanism. Default is 20.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.max_length">
<tt class="descname">max_length</tt><a class="headerlink" href="#bbs.ScrollingEditor.max_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum line length. This also limits infinite scrolling when
enable_scrolling is True. When unset, the maximum length is the
visible width of the window.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.position">
<tt class="descname">position</tt><a class="headerlink" href="#bbs.ScrollingEditor.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Tuple of shift amount and column position of line editor.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.ScrollingEditor.process_keystroke">
<tt class="descname">process_keystroke</tt><big>(</big><em>keystroke</em><big>)</big><a class="headerlink" href="#bbs.ScrollingEditor.process_keystroke" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the keystroke received by run method and take action.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.quit">
<tt class="descname">quit</tt><a class="headerlink" href="#bbs.ScrollingEditor.quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: True if a terminating or quit character was handled by
process_keystroke(), such as the escape key, or &#8216;q&#8217; by default.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.ScrollingEditor.refresh">
<tt class="descname">refresh</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.ScrollingEditor.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return unicode sequence suitable for refreshing the entire line and
placing the cursor.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.scroll_amt">
<tt class="descname">scroll_amt</tt><a class="headerlink" href="#bbs.ScrollingEditor.scroll_amt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of columns horizontal editor will scroll, calculated by
scroll_pct.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.scroll_pct">
<tt class="descname">scroll_pct</tt><a class="headerlink" href="#bbs.ScrollingEditor.scroll_pct" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of columns, as a percentage of its total visible width, that
will be scrolled when a user reaches the margin and enable_scrolling
is True. Default is 35.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.trim_char">
<tt class="descname">trim_char</tt><a class="headerlink" href="#bbs.ScrollingEditor.trim_char" title="Permalink to this definition">¶</a></dt>
<dd><p>When scrolling, this unicode string is prefixed to the line to indicate
it has been shifted (and you are missing out on some text!)</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.ScrollingEditor.update">
<tt class="descname">update</tt><a class="headerlink" href="#bbs.ScrollingEditor.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace text content with new unicode string. When unicodestring is
none, the content buffer is reset.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="bbs.ConnectionTimeout">
<em class="property">exception </em><tt class="descclassname">bbs.</tt><tt class="descname">ConnectionTimeout</tt><a class="headerlink" href="#bbs.ConnectionTimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised this error to indicate idle time exceeded.</p>
</dd></dl>

<dl class="class">
<dt id="bbs.Door">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">Door</tt><big>(</big><em>cmd='/bin/uname'</em>, <em>args=()</em>, <em>lang=u'en_US.UTF-8'</em>, <em>term=None</em>, <em>path=None</em><big>)</big><a class="headerlink" href="#bbs.Door" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawns a subprocess and pipes input and output over bbs session.</p>
<dl class="method">
<dt id="bbs.Door.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Door.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Begin door execution. pty.fork() is called, child process
calls execvpe() while the parent process pipes telnet session
IPC data to and from the slave pty until child process exits.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="bbs.from_cp437">
<tt class="descclassname">bbs.</tt><tt class="descname">from_cp437</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#bbs.from_cp437" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a bytestring in IBM codepage 437, return a translated
unicode string suitable for decoding to UTF-8.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.timeago">
<tt class="descclassname">bbs.</tt><tt class="descname">timeago</tt><big>(</big><em>secs</em>, <em>precision=0</em><big>)</big><a class="headerlink" href="#bbs.timeago" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass float or int in seconds, and return string of 0d 0h 0s format,
but only the two most relative, fe:
asctime(126.32) returns 2m6s,
asctime(10.9999, 2)   returns 10.99s</p>
</dd></dl>

<dl class="class">
<dt id="bbs.DBProxy">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">DBProxy</tt><big>(</big><em>schema</em><big>)</big><a class="headerlink" href="#bbs.DBProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide dictionary-like object interface to a database. a database call,
such as __len__() or keys() is issued as a command to the main engine,
which spawns a thread to acquire a lock on the database and return the
results via IPC pipe transfer.</p>
<dl class="method">
<dt id="bbs.DBProxy.acquire">
<tt class="descname">acquire</tt><big>(</big><em>timeout=None</em><big>)</big><a class="headerlink" href="#bbs.DBProxy.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire bbs-global lock on database, possibly blocking until it can be
obtained. When timeout is not None, return False if lock cannot be
acquired after timeout has elapsed in seconds.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.get">
<tt class="descname">get</tt><big>(</big><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><big>)</big> &rarr; D[k] if k in D, else d.  d defaults to None.<a class="headerlink" href="#bbs.DBProxy.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.has_key">
<tt class="descname">has_key</tt><big>(</big><em>k</em><big>)</big> &rarr; True if D has a key k, else False<a class="headerlink" href="#bbs.DBProxy.has_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.items">
<tt class="descname">items</tt><big>(</big><big>)</big> &rarr; list of D's (key, value) pairs, as 2-tuples<a class="headerlink" href="#bbs.DBProxy.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.iteritems">
<tt class="descname">iteritems</tt><big>(</big><big>)</big> &rarr; an iterator over the (key, value) items of D<a class="headerlink" href="#bbs.DBProxy.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.iterkeys">
<tt class="descname">iterkeys</tt><big>(</big><big>)</big> &rarr; an iterator over the keys of D<a class="headerlink" href="#bbs.DBProxy.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.itervalues">
<tt class="descname">itervalues</tt><big>(</big><big>)</big> &rarr; an iterator over the values of D<a class="headerlink" href="#bbs.DBProxy.itervalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.keys">
<tt class="descname">keys</tt><big>(</big><big>)</big> &rarr; list of D's keys<a class="headerlink" href="#bbs.DBProxy.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.locked">
<tt class="descname">locked</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.DBProxy.locked" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests wether the lock is currently locked</p>
</dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.pop">
<tt class="descname">pop</tt><big>(</big><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><big>)</big> &rarr; v, remove specified key and return the corresponding value.<a class="headerlink" href="#bbs.DBProxy.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.popitem">
<tt class="descname">popitem</tt><big>(</big><big>)</big> &rarr; (k, v), remove and return some (key, value) pair as a<a class="headerlink" href="#bbs.DBProxy.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>2-tuple; but raise KeyError if D is empty.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.release">
<tt class="descname">release</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.DBProxy.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Release bbs-global lock on database.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.setdefault">
<tt class="descname">setdefault</tt><big>(</big><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><big>)</big> &rarr; D.get(k,d), also set D[k]=d if k not in D<a class="headerlink" href="#bbs.DBProxy.setdefault" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.update">
<tt class="descname">update</tt><big>(</big><em>E</em>, <em>**F</em><big>)</big> &rarr; None.  Update D from dict/iterable E and F.<a class="headerlink" href="#bbs.DBProxy.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E has a .keys() method, does:     for k in E: D[k] = E[k]
If E lacks .keys() method, does:     for (k, v) in E: D[k] = v
In either case, this is followed by: for k in F: D[k] = F[k]</p>
</dd></dl>

<dl class="method">
<dt id="bbs.DBProxy.values">
<tt class="descname">values</tt><big>(</big><big>)</big> &rarr; list of D's values<a class="headerlink" href="#bbs.DBProxy.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="bbs.User">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">User</tt><big>(</big><em>handle=u'anonymous'</em><big>)</big><a class="headerlink" href="#bbs.User" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple user record object with setter and getter properties, &#8216;handle&#8217;,
&#8216;location&#8217;, &#8216;email&#8217;, &#8216;password&#8217;, &#8216;groups&#8217;, &#8216;calls&#8217;, &#8216;lastcall&#8217;, and &#8216;plan&#8217;.</p>
<dl class="method">
<dt id="bbs.User.auth">
<tt class="descname">auth</tt><big>(</big><em>try_pass</em><big>)</big><a class="headerlink" href="#bbs.User.auth" title="Permalink to this definition">¶</a></dt>
<dd><p>U.auth(unicode) &#8211;&gt; boolean</p>
<p>To authenticate, assert auth(try_pass) == True.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.calls">
<tt class="descname">calls</tt><a class="headerlink" href="#bbs.User.calls" title="Permalink to this definition">¶</a></dt>
<dd><p>Legacy, number of times user has &#8216;called&#8217; this board.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.User.delete">
<tt class="descname">delete</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.User.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove user record from database, and as a member of any groups.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.email">
<tt class="descname">email</tt><a class="headerlink" href="#bbs.User.email" title="Permalink to this definition">¶</a></dt>
<dd><p>E-mail address. May be used for password resets.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.User.group_add">
<tt class="descname">group_add</tt><big>(</big><em>group</em><big>)</big><a class="headerlink" href="#bbs.User.group_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add user to group.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.User.group_del">
<tt class="descname">group_del</tt><big>(</big><em>group</em><big>)</big><a class="headerlink" href="#bbs.User.group_del" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove user from group.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.groups">
<tt class="descname">groups</tt><a class="headerlink" href="#bbs.User.groups" title="Permalink to this definition">¶</a></dt>
<dd><p>U.groups() &#8211;&gt; set</p>
<p>Set of Group records user is a member of.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.handle">
<tt class="descname">handle</tt><a class="headerlink" href="#bbs.User.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>U.handle() &#8211;&gt; unicode</p>
<p>User handle, also the database key.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.is_sysop">
<tt class="descname">is_sysop</tt><a class="headerlink" href="#bbs.User.is_sysop" title="Permalink to this definition">¶</a></dt>
<dd><p>U.is_sysop &#8211;&gt; boolean</p>
<p>Returns True if user is in u&#8217;sysop&#8217; group.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.lastcall">
<tt class="descname">lastcall</tt><a class="headerlink" href="#bbs.User.lastcall" title="Permalink to this definition">¶</a></dt>
<dd><p>U.lastcall() &#8211;&gt; float</p>
<p>Time last called, time.time() epoch-formatted.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.location">
<tt class="descname">location</tt><a class="headerlink" href="#bbs.User.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Legacy, used as a geographical location, group names, etc.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.password">
<tt class="descname">password</tt><a class="headerlink" href="#bbs.User.password" title="Permalink to this definition">¶</a></dt>
<dd><p>U.password() &#8211;&gt; tuple</p>
<p>Returns encrypted form of password as tuple (salt, hash).
If a password has not yet been set, it is (None, None).</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.User.plan">
<tt class="descname">plan</tt><a class="headerlink" href="#bbs.User.plan" title="Permalink to this definition">¶</a></dt>
<dd><p>Unix .plan contents, the original blogosphere.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.User.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.User.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save user record to databases.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bbs.Group">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">Group</tt><big>(</big><em>name</em>, <em>members=()</em><big>)</big><a class="headerlink" href="#bbs.Group" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple group record object with properties &#8216;name&#8217;, and &#8216;members&#8217;.
Use methods &#8216;add&#8217; and &#8216;remove&#8217; to add and remove users by handle,
and &#8216;save&#8217; to persist to disk (and other bbs sessions).</p>
<dl class="method">
<dt id="bbs.Group.add">
<tt class="descname">add</tt><big>(</big><em>handle</em><big>)</big><a class="headerlink" href="#bbs.Group.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add user to group.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Group.delete">
<tt class="descname">delete</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Group.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete group record from database, and from .groups of any users.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Group.members">
<tt class="descname">members</tt><a class="headerlink" href="#bbs.Group.members" title="Permalink to this definition">¶</a></dt>
<dd><p>Members of this group as user handles.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Group.name">
<tt class="descname">name</tt><a class="headerlink" href="#bbs.Group.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of this group.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Group.remove">
<tt class="descname">remove</tt><big>(</big><em>handle</em><big>)</big><a class="headerlink" href="#bbs.Group.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove user from group.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Group.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Group.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save group record to database.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="bbs.list_users">
<tt class="descclassname">bbs.</tt><tt class="descname">list_users</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.list_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all user handles.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.find_user">
<tt class="descclassname">bbs.</tt><tt class="descname">find_user</tt><big>(</big><em>handle</em><big>)</big><a class="headerlink" href="#bbs.find_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Given handle, discover and return matching database key case insensitively.
The returned value may not be equal to the argument, or None if not found.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.get_user">
<tt class="descclassname">bbs.</tt><tt class="descname">get_user</tt><big>(</big><em>handle</em><big>)</big><a class="headerlink" href="#bbs.get_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns User record, keyed by handle.</p>
</dd></dl>

<dl class="class">
<dt id="bbs.AnsiWindow">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">AnsiWindow</tt><big>(</big><em>height</em>, <em>width</em>, <em>yloc</em>, <em>xloc</em><big>)</big><a class="headerlink" href="#bbs.AnsiWindow" title="Permalink to this definition">¶</a></dt>
<dd><p>The AnsiWindow base class provides position-relative window drawing
routines to terminal interfaces, such as pager windows, editors, and
lightbar lists.</p>
<dl class="method">
<dt id="bbs.AnsiWindow.border">
<tt class="descname">border</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.border" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a unicode sequence suitable for drawing a border of this window
using self.colors[&#8216;border&#8217;] and glyphs: &#8216;top-left&#8217;, &#8216;top-horiz&#8217;,
&#8216;top-right&#8217;, &#8216;left-vert&#8217;, &#8216;right-vert&#8217;, &#8216;bot-left&#8217;, &#8216;bot-horiz&#8217;, and
&#8216;bot-right&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase only window contents, border remains.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.AnsiWindow.colors">
<tt class="descname">colors</tt><a class="headerlink" href="#bbs.AnsiWindow.colors" title="Permalink to this definition">¶</a></dt>
<dd><p>Key table for terminal color sequences for draw routines.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.erase">
<tt class="descname">erase</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.erase" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase window contents (including border)</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.footer">
<tt class="descname">footer</tt><big>(</big><em>ansi_text</em><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.footer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns sequence that positions and displays unicode sequence
&#8216;ansi_text&#8217; at the bottom edge of the window.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.AnsiWindow.glyphs">
<tt class="descname">glyphs</tt><a class="headerlink" href="#bbs.AnsiWindow.glyphs" title="Permalink to this definition">¶</a></dt>
<dd><p>Key table for unicode characters for draw routines.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.init_theme">
<tt class="descname">init_theme</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.init_theme" title="Permalink to this definition">¶</a></dt>
<dd><p>This initializer sets glyphs and colors appropriate for a &#8220;theme&#8221;,
override this method to create a common color and graphic set.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.isinview">
<tt class="descname">isinview</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.isinview" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if window is in view of the terminal window.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.iswithin">
<tt class="descname">iswithin</tt><big>(</big><em>win</em><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.iswithin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if our window is within the bounds of window</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.pos">
<tt class="descname">pos</tt><big>(</big><em>xloc=None</em>, <em>yloc=None</em><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns terminal sequence to move cursor to window-relative position.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.resize">
<tt class="descname">resize</tt><big>(</big><em>height=None</em>, <em>width=None</em>, <em>yloc=None</em>, <em>xloc=None</em><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.resize" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust window dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.title">
<tt class="descname">title</tt><big>(</big><em>ansi_text</em><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.title" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns sequence that positions and displays unicode sequence
&#8216;ansi_text&#8217; at the title location of the window.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.AnsiWindow.willfit">
<tt class="descname">willfit</tt><big>(</big><em>win</em><big>)</big><a class="headerlink" href="#bbs.AnsiWindow.willfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if target window is within our bounds</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.AnsiWindow.xpadding">
<tt class="descname">xpadding</tt><a class="headerlink" href="#bbs.AnsiWindow.xpadding" title="Permalink to this definition">¶</a></dt>
<dd><p>Horizontal padding of window border</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.AnsiWindow.ypadding">
<tt class="descname">ypadding</tt><a class="headerlink" href="#bbs.AnsiWindow.ypadding" title="Permalink to this definition">¶</a></dt>
<dd><p>Horizontal padding of window border</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bbs.Selector">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">Selector</tt><big>(</big><em>yloc</em>, <em>xloc</em>, <em>width</em>, <em>left</em>, <em>right</em><big>)</big><a class="headerlink" href="#bbs.Selector" title="Permalink to this definition">¶</a></dt>
<dd><p>A two-state horizontal lightbar interface.</p>
<dl class="method">
<dt id="bbs.Selector.init_keystrokes">
<tt class="descname">init_keystrokes</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Selector.init_keystrokes" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge curses-detected application keys into a VI_KEYSET-formatted
keyset, for keys &#8216;refresh&#8217;, &#8216;left&#8217;, &#8216;right&#8217;, &#8216;enter&#8217;, and &#8216;exit&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Selector.init_theme">
<tt class="descname">init_theme</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Selector.init_theme" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize colors[&#8216;selected&#8217;] and colors[&#8216;unselected&#8217;].</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Selector.left">
<tt class="descname">left</tt><a class="headerlink" href="#bbs.Selector.left" title="Permalink to this definition">¶</a></dt>
<dd><p>Left-side value</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Selector.move_left">
<tt class="descname">move_left</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Selector.move_left" title="Permalink to this definition">¶</a></dt>
<dd><p>Force state to left, returning unicode string suitable for refresh.
If state is unchanged, an empty string is returned.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Selector.move_right">
<tt class="descname">move_right</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Selector.move_right" title="Permalink to this definition">¶</a></dt>
<dd><p>Force state to right, returning unicode string suitable for refresh.
If state is unchanged, an empty string is returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Selector.moved">
<tt class="descname">moved</tt><a class="headerlink" href="#bbs.Selector.moved" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: True if last call to process_keystroke() caused a new entry to
be selected. The caller can send keystrokes and check this flag to
indicate wether the current selection should be re-examined.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Selector.process_keystroke">
<tt class="descname">process_keystroke</tt><big>(</big><em>keystroke</em><big>)</big><a class="headerlink" href="#bbs.Selector.process_keystroke" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a keystroke, toggling self.selection and returning string
suitable for refresh when changed.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Selector.quit">
<tt class="descname">quit</tt><a class="headerlink" href="#bbs.Selector.quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: True if a terminating or quit character was handled by
process_keystroke(), such as the escape key, or &#8216;q&#8217; by default.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Selector.refresh">
<tt class="descname">refresh</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Selector.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return terminal sequence suitable for re-drawing left/right menubar.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Selector.right">
<tt class="descname">right</tt><a class="headerlink" href="#bbs.Selector.right" title="Permalink to this definition">¶</a></dt>
<dd><p>Right-side value</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Selector.selected">
<tt class="descname">selected</tt><a class="headerlink" href="#bbs.Selector.selected" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when keyset[&#8216;enter&#8217;] key detected in process_keystroke</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Selector.selection">
<tt class="descname">selection</tt><a class="headerlink" href="#bbs.Selector.selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Current selection.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Selector.toggle">
<tt class="descname">toggle</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Selector.toggle" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle selection and return unicode string suitable for refresh.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bbs.Lightbar">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">Lightbar</tt><big>(</big><em>height</em>, <em>width</em>, <em>yloc</em>, <em>xloc</em><big>)</big><a class="headerlink" href="#bbs.Lightbar" title="Permalink to this definition">¶</a></dt>
<dd><p>This Windowing class offers a classic &#8216;lightbar&#8217; interface.</p>
<p>Instantiate with yloc, xloc, height, and width, then call the update method
with a list of unicode strings. send keycodes to process_keystroke () to
interactive with the &#8216;lightbar&#8217;.</p>
<dl class="attribute">
<dt id="bbs.Lightbar.alignment">
<tt class="descname">alignment</tt><a class="headerlink" href="#bbs.Lightbar.alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Justification of text content. One of &#8216;left&#8217;, &#8216;right&#8217;, or &#8216;center&#8217;.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.index">
<tt class="descname">index</tt><a class="headerlink" href="#bbs.Lightbar.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Selected index of self.content</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Lightbar.init_keystrokes">
<tt class="descname">init_keystrokes</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Lightbar.init_keystrokes" title="Permalink to this definition">¶</a></dt>
<dd><p>This initializer sets glyphs and colors appropriate for a &#8220;theme&#8221;,
override or inherit this method to create a common color and graphic
set.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.keyset">
<tt class="descname">keyset</tt><a class="headerlink" href="#bbs.Lightbar.keyset" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.last_index">
<tt class="descname">last_index</tt><a class="headerlink" href="#bbs.Lightbar.last_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Previously selected index of self.content</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.moved">
<tt class="descname">moved</tt><a class="headerlink" href="#bbs.Lightbar.moved" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: True if last call to process_keystroke() caused a new entry to
be selected. The caller can send keystrokes and check this flag to
indicate wether the current selection should be re-examined.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.position">
<tt class="descname">position</tt><a class="headerlink" href="#bbs.Lightbar.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tuple pair (item, shift). &#8216;item&#8217; being the listed index from
top of window, and &#8216;shift&#8217; being the number of items scrolled.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Lightbar.process_keystroke">
<tt class="descname">process_keystroke</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#bbs.Lightbar.process_keystroke" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the keystroke received by run method and take action.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.quit">
<tt class="descname">quit</tt><a class="headerlink" href="#bbs.Lightbar.quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: True if a terminating or quit character was handled by
process_keystroke(), such as the escape key, or &#8216;q&#8217; by default.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Lightbar.refresh">
<tt class="descname">refresh</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Lightbar.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh full lightbar window contents</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Lightbar.refresh_quick">
<tt class="descname">refresh_quick</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Lightbar.refresh_quick" title="Permalink to this definition">¶</a></dt>
<dd><p>Redraw only the &#8216;dirty&#8217; portions after a &#8216;move&#8217; has occured unless
the page has shifted, then a full refresh is necessary.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Lightbar.refresh_row">
<tt class="descname">refresh_row</tt><big>(</big><em>ypos</em><big>)</big><a class="headerlink" href="#bbs.Lightbar.refresh_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return unicode byte sequence suitable for moving to location ypos of
window-relative row, and displaying any valid entry there, or using
glyphs[&#8216;fill&#8217;] if out of bounds.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.selection">
<tt class="descname">selection</tt><a class="headerlink" href="#bbs.Lightbar.selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Selected content of self.content by index</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.update">
<tt class="descname">update</tt><a class="headerlink" href="#bbs.Lightbar.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace content of lightbar with a unicode list.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.vitem_idx">
<tt class="descname">vitem_idx</tt><a class="headerlink" href="#bbs.Lightbar.vitem_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Index of selected item relative by index to only the length of the list
that is visible, without accounting for scrolled content.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Lightbar.vitem_shift">
<tt class="descname">vitem_shift</tt><a class="headerlink" href="#bbs.Lightbar.vitem_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Index of top-most item in viewable window, non-zero when scrolled.
This value effectively represents the number of items not in view
due to paging.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bbs.Pager">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">Pager</tt><big>(</big><em>height</em>, <em>width</em>, <em>yloc</em>, <em>xloc</em><big>)</big><a class="headerlink" href="#bbs.Pager" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrolling ansi viewer</p>
<dl class="method">
<dt id="bbs.Pager.append">
<tt class="descname">append</tt><big>(</big><em>unibytes</em><big>)</big><a class="headerlink" href="#bbs.Pager.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Update content buffer with additional lines, using ansi unicodes.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Pager.init_keystrokes">
<tt class="descname">init_keystrokes</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.Pager.init_keystrokes" title="Permalink to this definition">¶</a></dt>
<dd><p>This initializer sets glyphs and colors appropriate for a &#8220;theme&#8221;,
override or inherit this method to create a common color and graphic
set.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Pager.moved">
<tt class="descname">moved</tt><a class="headerlink" href="#bbs.Pager.moved" title="Permalink to this definition">¶</a></dt>
<dd><p>Returnes: True if last call to process_keystroke() resulted in
movement.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Pager.position">
<tt class="descname">position</tt><a class="headerlink" href="#bbs.Pager.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the row in the content buffer displayed at top of window.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Pager.position_last">
<tt class="descname">position_last</tt><a class="headerlink" href="#bbs.Pager.position_last" title="Permalink to this definition">¶</a></dt>
<dd><p>Previous position before last move</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Pager.process_keystroke">
<tt class="descname">process_keystroke</tt><big>(</big><em>keystroke</em><big>)</big><a class="headerlink" href="#bbs.Pager.process_keystroke" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the keystroke received by run method and return terminal
sequence suitable for refreshing when that keystroke modifies the
window.</p>
</dd></dl>

<dl class="attribute">
<dt id="bbs.Pager.quit">
<tt class="descname">quit</tt><a class="headerlink" href="#bbs.Pager.quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: True if a terminating or quit character was handled by
process_keystroke(), such as the escape key, or &#8216;q&#8217; by default.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Pager.refresh">
<tt class="descname">refresh</tt><big>(</big><em>start_row=0</em><big>)</big><a class="headerlink" href="#bbs.Pager.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return unicode string suitable for refreshing pager window.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.Pager.update">
<tt class="descname">update</tt><big>(</big><em>unibytes</em><big>)</big><a class="headerlink" href="#bbs.Pager.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update content buffer with new ansi unicodes.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="bbs.disconnect">
<tt class="descclassname">bbs.</tt><tt class="descname">disconnect</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/bbs.html#disconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect the session</p>
</dd></dl>

<dl class="function">
<dt id="bbs.goto">
<tt class="descclassname">bbs.</tt><tt class="descname">goto</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="_modules/bbs.html#goto"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.goto" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to another bbs script, with arguments. Do not return.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.gosub">
<tt class="descclassname">bbs.</tt><tt class="descname">gosub</tt><big>(</big><em>*arg</em><big>)</big><a class="reference internal" href="_modules/bbs.html#gosub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.gosub" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to another bbs script, with arguments. Returns script return value.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.sendevent">
<tt class="descclassname">bbs.</tt><tt class="descname">sendevent</tt><big>(</big><em>pid</em>, <em>event</em>, <em>data</em><big>)</big><a class="reference internal" href="_modules/bbs.html#sendevent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.sendevent" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an event to the main bbs engine.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.broadcastevent">
<tt class="descclassname">bbs.</tt><tt class="descname">broadcastevent</tt><big>(</big><em>event</em>, <em>data</em><big>)</big><a class="reference internal" href="_modules/bbs.html#broadcastevent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.broadcastevent" title="Permalink to this definition">¶</a></dt>
<dd><p>Broadcast an event to all other sessions.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.readevent">
<tt class="descclassname">bbs.</tt><tt class="descname">readevent</tt><big>(</big><em>event='input'</em>, <em>timeout=None</em><big>)</big><a class="reference internal" href="_modules/bbs.html#readevent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.readevent" title="Permalink to this definition">¶</a></dt>
<dd><p>Poll for Session event.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.readevents">
<tt class="descclassname">bbs.</tt><tt class="descname">readevents</tt><big>(</big><em>events=('input'</em>, <em>)</em>, <em>timeout=None</em><big>)</big><a class="reference internal" href="_modules/bbs.html#readevents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.readevents" title="Permalink to this definition">¶</a></dt>
<dd><p>Poll for first available Session event.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.flushevent">
<tt class="descclassname">bbs.</tt><tt class="descname">flushevent</tt><big>(</big><em>event='input'</em>, <em>timeout=-1</em><big>)</big><a class="reference internal" href="_modules/bbs.html#flushevent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.flushevent" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove any data for specified event buffered from the main bbs engine.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.flushevents">
<tt class="descclassname">bbs.</tt><tt class="descname">flushevents</tt><big>(</big><em>events=('input'</em>, <em>)</em>, <em>timeout=-1</em><big>)</big><a class="reference internal" href="_modules/bbs.html#flushevents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.flushevents" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove any data for specified events buffered from the main bbs engine.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.getsession">
<tt class="descclassname">bbs.</tt><tt class="descname">getsession</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.getsession" title="Permalink to this definition">¶</a></dt>
<dd><p>Return session, after a .run() method has been called on any 1 instance.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.getterminal">
<tt class="descclassname">bbs.</tt><tt class="descname">getterminal</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.getterminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return blessings terminal instace of this session.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.gethandle">
<tt class="descclassname">bbs.</tt><tt class="descname">gethandle</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/bbs.html#gethandle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.gethandle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return user handle of this session.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.getch">
<tt class="descclassname">bbs.</tt><tt class="descname">getch</tt><big>(</big><em>timeout=None</em><big>)</big><a class="headerlink" href="#bbs.getch" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a keystroke from &#8216;input&#8217; queue, blocking forever or, when
specified, None when timeout has elapsed.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.sleep">
<tt class="descclassname">bbs.</tt><tt class="descname">sleep</tt><big>(</big><em>seconds</em><big>)</big><a class="reference internal" href="_modules/bbs.html#sleep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Block session for seconds, meanwhile, buffers events</p>
</dd></dl>

<dl class="function">
<dt id="bbs.echo">
<tt class="descclassname">bbs.</tt><tt class="descname">echo</tt><big>(</big><em>data</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#bbs.echo" title="Permalink to this definition">¶</a></dt>
<dd><p>Output unicode bytes and terminal sequences to session terminal</p>
</dd></dl>

<dl class="function">
<dt id="bbs.abspath">
<tt class="descclassname">bbs.</tt><tt class="descname">abspath</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#bbs.abspath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return absolute path under context of current os.path.curdir</p>
</dd></dl>

<dl class="function">
<dt id="bbs.fopen">
<tt class="descclassname">bbs.</tt><tt class="descname">fopen</tt><big>(</big><em>filepath</em>, <em>mode='rb'</em><big>)</big><a class="headerlink" href="#bbs.fopen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return wrap to io.open using script-relative filepath and mode of &#8216;rb&#8217;.</p>
</dd></dl>

<dl class="function">
<dt id="bbs.ropen">
<tt class="descclassname">bbs.</tt><tt class="descname">ropen</tt><big>(</big><em>filename</em>, <em>mode='rb'</em><big>)</big><a class="headerlink" href="#bbs.ropen" title="Permalink to this definition">¶</a></dt>
<dd><p>Open random file using wildcard (glob)</p>
</dd></dl>

<dl class="function">
<dt id="bbs.showcp437">
<tt class="descclassname">bbs.</tt><tt class="descname">showcp437</tt><big>(</big><em>filepattern</em><big>)</big><a class="reference internal" href="_modules/bbs.html#showcp437"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bbs.showcp437" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a cp437 artfile relative to current script path, trimming SAUCE
data and translating cp437 to utf8. A glob pattern can be used, such as
&#8216;art/login*.ans&#8217;</p>
</dd></dl>

<dl class="class">
<dt id="bbs.SAUCE">
<em class="property">class </em><tt class="descclassname">bbs.</tt><tt class="descname">SAUCE</tt><big>(</big><em>filename=''</em>, <em>data=''</em><big>)</big><a class="headerlink" href="#bbs.SAUCE" title="Permalink to this definition">¶</a></dt>
<dd><p>Parser for SAUCE or Standard Architecture for Universal Comment Extensions,
as defined in <a class="reference external" href="http://www.acid.org/info/sauce/s_spec.htm">http://www.acid.org/info/sauce/s_spec.htm</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> &#8211; file name or file handle</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property author:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Name or &#8216;handle&#8217; of the creator of the file</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property datatype:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Type of data</td>
</tr>
<tr class="field-even field"><th class="field-name">Property date:</th><td class="field-body">Date the file was created</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property filesize:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Original filesize NOT including any information of
SAUCE</td>
</tr>
<tr class="field-even field"><th class="field-name">Property group:</th><td class="field-body">Name of the group/company the creator is employed by</td>
</tr>
<tr class="field-odd field"><th class="field-name">Property title:</th><td class="field-body">Title of the file</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">art</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;31337.ANS&#39;</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nfo</span> <span class="o">=</span> <span class="n">sauce</span><span class="o">.</span><span class="n">SAUCE</span><span class="p">(</span><span class="n">art</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nfo</span><span class="o">.</span><span class="n">author</span>
<span class="go">&#39;maze&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nfo</span><span class="o">.</span><span class="n">group</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nfo</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="s">&#39;mononoke&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raw</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">nfo</span><span class="p">)</span>
</pre></div>
</div>
<p>Saving the new file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sav</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;31337.NEW&#39;</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nfo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sav</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># OR you can do:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sav</span> <span class="o">=</span> <span class="n">nfo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;31337.NEW&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="bbs.SAUCE.sauce">
<tt class="descname">sauce</tt><big>(</big><big>)</big><a class="headerlink" href="#bbs.SAUCE.sauce" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw SAUCE record.</p>
</dd></dl>

<dl class="method">
<dt id="bbs.SAUCE.write">
<tt class="descname">write</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#bbs.SAUCE.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the file including SAUCE data to the given file(handle).</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">shit ..</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to x/84&#8217;s documentation!</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/bbs.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to x/84’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">x/84 1.0rc3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Jeff Quast, Johannes Lundberg, Wijnand Modderman-Lenstra.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>