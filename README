Installation
============

This software requires Python 2.6 or 2.7 and virtualenv.

# the installer will perform these commands,
# as a human, you will do these yourself,

curl -o virtualenv.py 'https://raw.github.com/pypa/virtualenv/master/virtualenv.py'

# for testing 2.6
python2.6 virtualenv.py ENV26
. ENV26/bin/activate

# for testing 2.7,
python2.7 virtualenv.py ENV27
. ENV27/bin/activate

pip install -r requirements.txt

# we may freeze external dependencies ..


Getting Started
===============

To start the system, launch 'x84'.

	./x84

Optional command line arguments,
 -cfg <configuration file>
 -v enable debug logging


Connecting
==========

telnet localhost 6023


Compatible Clients (UTF-8)
============================

iTerm,
- Menu item iTerm -> Preferences,
  section Profiles, select 'Text' tab,
  chose 'Andale Mono' font.
 
PuTTy
- Under preference item Window -> Translation,
  option 'Remote character set',
  change 'iso8859-1' to 'UTF-8'.

Terminal.app
 - Menu item Terminal -> Preferences,
   chose profile 'Pro', (Font Andale Mono),
   enable 'use bright colors for bold text'.

uxterm


Semi-compatible Clients (CP437)
=================================

SyncTerm
- Select cp437 when prompted by the bbs system (charset.py).

Classic Unix
- Select cp437 when prompted by the bbs system (charset.py).
- Use a font of cp437 encoding, such as 'Terminus'.


Monitoring
==========

Sessions are recorded to ttyrecordings/ folder, and can be played with 'ttyplay'
or compatible utility. The '-p' option can be used to monitor live sessions,
analogous to 'tail -f'.


Session Scripts
===============

The default.ini 'scriptpath' of [session] defines folder 'default/', the default
lookup path for goto() and gosub() commands executed by bbs scripts. This path
should also contain the 'matrix.py' script.

By default, matrix.py will chain to 'nua.py' for new account creation, and
'main.py' for a main menu. The 'topscript' script, 'top.py' should receive
the handle of the user that is authorized, and log the call. If 'topscript'
is called without a handle, the value will default to 'None', and the user
is presumed 'anonymous'.


Matrix
======

The default.ini section 'matrix' describes the 'script' path of a python
program that is loaded when a telnet connection is first made. This script
should initialize a login handshake, or otherwise approve the connection for
continuation.

This section also defines a 'topscript' python program, which is the script to
execute after the 'matrix' routine has determined succesful authentication.


Example scripts
===============

These scripts are found in the default/ subdirectory

  charset.py    prompt user to select 'cp437' or 'utf-8' character set
  lc.py         display 'last callers' of the board
  logoff.py     an automsg display/prompt and logoff
  main.py       main menu, called by default topscript, top.py
  matrix.py     login script, called by new connections
  news.py       file reader used to display 'system news'
  nua.py        new user application routine called by default matrix, matrix.py
  ol.py         bbs-scene.org enabled 'one liners' / wall script
  si.py         display system information door
  speedhack.py  an alternative 'topscript', to simulate dgamelaunch+NAO
  telnet.py     a telnet-out door, pass telnet address/port  as arguments
  top.py        default 'top script' called after authentication success
  weather.py    a weather API and lightbar demonstration .. ?


Globals
=======

bbs helper functions are exported to the the global namespace of all bbs scripts.
these scripts can be found in the 'bbs' sub-folder. the special __init__.py
file defines a special list, '__all__', containing a list of terms to be
injected into all bbs session scripts. it is as if the statement:

from bbs import *

is applied to all bbs scripts executed by goto() and gosub() commands.

An irc channel, '#prsv' on efnet, is available for development discussion.
